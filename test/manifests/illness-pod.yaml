apiVersion: v1
kind: Pod
metadata:
  name: payment-service-v3
  namespace: default
  labels:
    app: payment-service
    version: v3.0.0
    env: production
    tier: backend
  annotations:
    prometheus.io/scrape: "true"
    prometheus.io/port: "8080"
spec:
  containers:
  - name: order-processor
    # ❌ 错误原因：这是一个不存在的 Tag
    image: nginx:1.25.0-alpine-pro-enterprise-edition-v999
    imagePullPolicy: Always
    ports:
    - containerPort: 80
      name: http
    - containerPort: 443
      name: https
    resources:
      requests:
        cpu: "500m"
        memory: "512Mi"
      limits:
        cpu: "1000m"
        memory: "1Gi"
    env:
    - name: DB_HOST
      value: "db-prod.internal"
    - name: LOG_LEVEL
      value: "INFO"
    livenessProbe:
      httpGet:
        path: /healthz
        port: 80
      initialDelaySeconds: 30
      periodSeconds: 10
    readinessProbe:
      httpGet:
        path: /ready
        port: 80
      initialDelaySeconds: 5
      periodSeconds: 5
  restartPolicy: Always
  terminationGracePeriodSeconds: 30